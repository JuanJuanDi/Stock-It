<div class="fixed inset-0 flex">
  <!-- Sidebar para escritorio -->
  <aside
    class="hidden lg:flex min-h-screen w-64 bg-[#E0E9ED] shadow-lg overflow-y-auto flex-col"
  >
    <!-- Encabezado -->
    <header class="flex justify-center items-center p-4">
      <a routerLink="/home">
        <img
          src="https://s3-alpha-sig.figma.com/img/b468/47e0/7a4d76d5e5326e185b1fbbece43de662?Expires=1733097600&Key-Pair-Id=APKAQ4GOSFWCVNEHN3O4&Signature=BFAItHaCmYWHtLEz0mfwmzeEQwvn4ex-T6Gs2kmfHroLZOR0L~KCuMLrp9hHO~~NYhdpmnVg3krlxNckd-5Yd2ZQqYY96ubLGQ4ll5rVuFqgNHkYgkNtqEpJCbWDtsb6bBCC2-5vHR~KfPAEun8UayaCRAO9c04Afwp0vJ1jvklKmdqyMxmt7ZJysrBzxz2gWGIx29oSYf5CB5xxsmWzds5ACc5fE~JDTUn9~Pbs3n-MMdg7QMwcZmshSHWPTBITVytLHddmsxK9p~-LpcwArf3qcqLfUQK925mP7DE4aArsrF0EXse50tf5xMX0c-uqfCvGP0kn7k6NnyA3xBYD2w__"
          alt="Logo"
          class="w-24"
        />
      </a>
    </header>
    <!-- Menú principal -->
    <nav class="flex-grow p-4 flex flex-col gap-2">
      <a
        class="btn btn-ghost flex items-center justify-start gap-2 w-full text-left"
        (click)="toggleDesktopSubmenu()"
      >
        <svg
          width="18"
          height="14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 3h7a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5l2 2Zm7 10V4H8L6 2H2v11h14Z"
            fill="#0B0A0B"
            stroke="#0B0A0B"
            stroke-width=".1"
          />
        </svg>
        <span>Inventario</span>
        <svg
          class="transition-transform duration-300 ml-auto"
          [ngClass]="{ 'rotate-180': isDesktopSubmenuOpen }"
          width="11"
          height="6"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="m1 5 4-4 4 4"
            stroke="#0B0A0B"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </a>
      <!-- Submenú de escritorio -->
      <div *ngIf="isDesktopSubmenuOpen" class="ml-6 mt-2 flex flex-col gap-1">
        <a
          routerLink="/inventory"
          class="px-2 py-1 rounded-md hover:bg-gray-300"
        >
          Mi Inventario
        </a>
        <a
          routerLink="/addProduct"
          class="px-2 py-1 rounded-md hover:bg-gray-300"
        >
          Añadir Producto
        </a>
      </div>
      <a
        routerLink="/catalogo-web"
        class="btn btn-ghost flex items-center justify-start gap-2 w-full text-left"
      >
        <svg
          width="18"
          height="16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17 6V5l-1-4a1 1 0 0 0-1 0H3a1 1 0 0 0-1 0L1 5v2a3 3 0 0 0 1 2v5a1 1 0 0 0 1 2h12a1 1 0 0 0 1-2V9a3 3 0 0 0 1-2V6ZM3 2h12l1 3H2l1-3Zm4 4h4v1a2 2 0 1 1-4 0V6ZM6 6v1a2 2 0 0 1-4 0V6h4Zm9 8H3v-4a3 3 0 0 0 2 0l2-1a3 3 0 0 0 5 0 3 3 0 0 0 3 1v4Zm-1-5a2 2 0 0 1-2-2V6h4v1a2 2 0 0 1-2 2Z"
            fill="#0B0A0B"
          />
        </svg>
        <span>Catálogo Web</span>
      </a>
    </nav>
    <!-- Botón Cerrar Sesión -->
    <footer class="p-4">
      <button
        class="btn btn-ghost flex items-center justify-start gap-2 w-full text-left"
        (click)="logOut()"
      >
        <svg
          width="16"
          height="16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7 15a1 1 0 0 1-1 1H2a1 1 0 0 1-1-2V2a1 1 0 0 1 1-1h4a1 1 0 0 1 0 1H2v12h4a1 1 0 0 1 1 1Zm8-7-3-4a1 1 0 0 0-1 1l2 2H6a1 1 0 0 0 0 2h7l-2 2a1 1 0 0 0 1 1l3-4Z"
            fill="#0B0A0B"
          />
        </svg>
        <span>Cerrar Sesión</span>
      </button>
    </footer>
  </aside>

  <!-- Sidebar para mobile/tablet -->
  <div class="lg:hidden fixed bottom-0 w-full h-[65px] bg-[#E0E9ED] flex">
    <!-- Opción Mi Inventario -->
    <div class="flex-1 flex justify-center items-center relative">
      <button
        class="text-gray-700 flex flex-col justify-center items-center w-full h-full"
        (click)="toggleMobileSubmenu()"
        [ngClass]="{ 'border-b-2 border-black': isMobileSubmenuOpen }"
        aria-label="Abrir Mi Inventario"
      >
        <svg
          width="18"
          height="14"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 3h7a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5l2 2Zm7 10V4H8L6 2H2v11h14Z"
            fill="#0B0A0B"
            stroke="#0B0A0B"
            stroke-width=".1"
          />
        </svg>
        Mi Inventario
      </button>
    </div>
    <!-- Opción Catálogo -->
    <div class="flex-1 flex justify-center items-center relative">
      <a
        routerLink="/homepage"
        class="text-gray-700 flex flex-col justify-center items-center w-full h-full"
        aria-label="Ir a Catálogo"
      >
        <svg
          width="18"
          height="16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M17 6V5l-1-4a1 1 0 0 0-1 0H3a1 1 0 0 0-1 0L1 5v2a3 3 0 0 0 1 2v5a1 1 0 0 0 1 2h12a1 1 0 0 0 1-2V9a3 3 0 0 0 1-2V6ZM3 2h12l1 3H2l1-3Zm4 4h4v1a2 2 0 1 1-4 0V6ZM6 6v1a2 2 0 0 1-4 0V6h4Zm9 8H3v-4a3 3 0 0 0 2 0l2-1a3 3 0 0 0 5 0 3 3 0 0 0 3 1v4Zm-1-5a2 2 0 0 1-2-2V6h4v1a2 2 0 0 1-2 2Z"
            fill="#0B0A0B"
          />
        </svg>
        Catálogo
      </a>
    </div>
  </div>

  <!-- Modal de Subinventario para mobile/tablet -->
  <div
    *ngIf="isMobileSubmenuOpen"
    class="modal modal-open transition-all duration-300 ease-in-out"
    aria-labelledby="modal-title"
    role="dialog"
    aria-modal="true"
    (click)="closeMobileSubmenu()"
  >
    <div
      class="modal-box bg-[#E0E9ED] transition-transform duration-300 ease-in-out transform scale-100"
      (click)="$event.stopPropagation()"
    >
      <h2 id="modal-title" class="text-4xl font-bold text-center text-gray-900">
        Mi Inventario
      </h2>
      <div class="py-4">
        <ul>
          <li class="mb-2">
            <button
              class="btn w-full text-sm font-semibold bg-white text-black hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-800"
              routerLink="/inventory"
              (click)="closeMobileSubmenu()"
            >
              Inventario Principal
            </button>
          </li>
          <li>
            <button
              class="btn w-full text-sm font-semibold bg-white text-black hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-800"
              routerLink="/addProduct"
              (click)="closeMobileSubmenu()"
            >
              Agregar Producto
            </button>
          </li>
        </ul>
      </div>
      <div class="modal-action">
        <button class="btn btn-success" (click)="closeMobileSubmenu()">
          Cerrar
        </button>
      </div>
    </div>
  </div>
</div>
